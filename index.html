<html>
  <head>
    <meta charset="utf-8">
    <title>otra combinacion</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
    <script type="module">
				import * as THREE from "./three.module.js";
				import {GUI} from "./dat.gui.module.js";
				import {MapControls} from "./OrbitControls.js";

				var scene, camera, renderer;
				var aa = 4.5;
				var bb = 9.5;

				scene = new THREE.Scene();

				camera = new THREE.PerspectiveCamera(
				  60,
					window.innerWidth/window.innerHeight);
				renderer = new THREE.WebGLRenderer();
				renderer.setSize(window.innerWidth,window.innerHeight);
				document.body.appendChild(renderer.domElement);

				//geometrias
				var cube = new THREE.Mesh(
				  new THREE.BoxGeometry(0.5,0.5,0.5),
					new THREE.MeshBasicMaterial({color:0x00ff00}));
				cube.position.set(-3,-3,-2);
				scene.add(cube);
				//piso
				var txrFloor = new THREE.TextureLoader(); 
				var floorTxr = new txrFloor.load("img/pisoR.png");
				var floor = new THREE.Mesh(
				  new THREE.PlaneGeometry(20,10,10,10),
					new THREE.MeshBasicMaterial({color:0xffffff,map:floorTxr}));
				floor.rotation.x = -Math.PI/2;
				floor.position.y = -2;
				scene.add(floor);
				//techo
				var txrCeil = new THREE.TextureLoader();
				var ceilTxr = new txrCeil.load("img/techoR.png");
				var ceil = new THREE.Mesh(
				  new THREE.PlaneGeometry(20,10,10,10),
					new THREE.MeshBasicMaterial({color:0xffffff,map:ceilTxr}));
				ceil.rotation.x = Math.PI/2;
				ceil.position.y = 1.5;
				scene.add(ceil);
				//pared1
				var txrWallA = new THREE.TextureLoader();
				var wallATxr = new txrWallA.load("img/wall1R.png");
				var wallA = new THREE.Mesh(
				  new THREE.PlaneGeometry(20,3.5),
					new THREE.MeshBasicMaterial({color:0xffffff,map:wallATxr}));
				wallA.position.set(0,-0.25,-5);
				scene.add(wallA);
				//pared2
				var wallB = new THREE.Mesh(
				  new THREE.PlaneGeometry(20,3.5),
					new THREE.MeshBasicMaterial({color:0xffffff,map:wallATxr}));
				wallB.position.set(0,-0.25,5);
				wallB.rotation.y = Math.PI;
				scene.add(wallB);
				//pared3
				var txrWallC = new THREE.TextureLoader();
				var wallCTxr = new txrWallC.load("img/wall2R.png");
				var wallC = new THREE.Mesh(
				  new THREE.PlaneGeometry(10,3.5),
					new THREE.MeshBasicMaterial({color:0xffffff,map:wallCTxr}));
				wallC.position.set(-10,-0.25,0);
				wallC.rotation.y = Math.PI/2;
				scene.add(wallC);
				//pared4
				var wallD = new THREE.Mesh(
				  new THREE.PlaneGeometry(10,3.5),
					new THREE.MeshBasicMaterial({color:0xffffff,map:wallCTxr}));
				wallD.position.set(10,-0.25,0);
				wallD.rotation.y = -Math.PI/2;
				scene.add(wallD);

				//cuadro1
				var txrPic01 = new THREE.TextureLoader();
				var pic01Txr = new txrPic01.load("img/p01/c01.jpg");
				var pic01 = new THREE.Mesh(
				  new THREE.PlaneGeometry(1.23,1),
					new THREE.MeshBasicMaterial({color:0xffffff,map:pic01Txr}));
				pic01.position.z = -4.9;
				scene.add(pic01);
				var pic01B = new THREE.Mesh(
				  new THREE.BoxGeometry(1.23,1,0.05,0),
					new THREE.MeshBasicMaterial({color:0x254b62}));
				pic01B.position.z = -4.925;
				scene.add(pic01B);
				//etiqueta 01 iglesia
				var txrEtq01 = new THREE.TextureLoader();
				var etq01Txr = new txrEtq01.load("img/etq/iglesia.jpg");
				var etq01 = new THREE.Mesh(
				  new THREE.PlaneGeometry(0.25,0.125),
					new THREE.MeshBasicMaterial({color:0xffffff,map:etq01Txr}));
				etq01.position.set(0.8,- 0.45,-4.99);
				scene.add(etq01);

				//cuadro2 balsero 1
				var txrPic02 = new THREE.TextureLoader();
				var pic02Txr = new txrPic02.load("img/p01/balsero1.jpg");
				var pic02 = new THREE.Mesh(
				  new THREE.PlaneGeometry(0.285,0.5),
					new THREE.MeshBasicMaterial({color:0xffffff,map:pic02Txr}));
				pic02.position.set(4,0,-4.9);
				scene.add(pic02);
				var pic02B = new THREE.Mesh(
				  new THREE.BoxGeometry(0.285,0.5,0.05,0),
					new THREE.MeshBasicMaterial({color:0x6b4419}));
				pic02B.position.set(4,0,-4.925);
				scene.add(pic02B);

				//cuadro 3 puente
				var txrPic03 = new THREE.TextureLoader();
				var pic03Txr = new txrPic03.load("img/p01/c03.jpg");
				var pic03 = new THREE.Mesh(
				  new THREE.PlaneGeometry(1.23,1),
					new THREE.MeshBasicMaterial({color:0xffffff,map:pic03Txr}));
				pic03.position.z = -4.9;
				pic03.position.x = 2;
				scene.add(pic03);
				var pic03B = new THREE.Mesh(
				  new THREE.BoxGeometry(1.23,1,0.05,0),
					new THREE.MeshBasicMaterial({color:0x193832}));
				pic03B.position.set(2,0,-4.925);
				scene.add(pic03B);
				//etiqueta 03 puente
				var txrEtq03 = new THREE.TextureLoader();
				var etq03Txr = new txrEtq03.load("img/etq/puente.jpg");
				var etq03 = new THREE.Mesh(
				  new THREE.PlaneGeometry(0.25,0.125),
					new THREE.MeshBasicMaterial({color:0xffffff,map:etq03Txr}));
				etq03.position.set(2.8,-0.45,-4.99);
				scene.add(etq03);

				//cuadro 04 vista lago1
				var txrPic04 = new THREE.TextureLoader();
				var pic04Txr = new txrPic04.load("img/p01/c04.jpg");
				var pic04 = new THREE.Mesh(
				  new THREE.PlaneGeometry(1.23,1),
					new THREE.MeshBasicMaterial({color:0xffffff,map:pic04Txr}));
				pic04.position.set(-2,0,-4.9);
				scene.add(pic04);
				var pic04B = new THREE.Mesh(
				  new THREE.BoxGeometry(1.23,1,0.05,0),
					new THREE.MeshBasicMaterial({color:0x243b52}));
				pic04B.position.set(-2,0,-4.925);
				scene.add(pic04B);
				//etiqueta 04 vistalago1
				var txrEtq04 = new THREE.TextureLoader();
				var etq04Txr = new txrEtq04.load("img/etq/lago2.jpg");
				var etq04 = new THREE.Mesh(
				  new THREE.PlaneGeometry(0.25,0.125),
					new THREE.MeshBasicMaterial({color:0xffffff,map:etq04Txr}));
				etq04.position.set(-1.2,-0.45,-4.99);
				scene.add(etq04);

				//cuadro 05 vista lago2
				var txrPic05 = new THREE.TextureLoader();
				var pic05Txr = new txrPic05.load("img/p01/c05.jpg");
				var pic05 = new THREE.Mesh(
				  new THREE.PlaneGeometry(1.23,1),
					new THREE.MeshBasicMaterial({color:0xffffff,map:pic05Txr}));
				pic05.position.set(-4,0,-4.9);
				scene.add(pic05);
				var pic05B = new THREE.Mesh(
				  new THREE.BoxGeometry(1.23,1,0.05,0),
					new THREE.MeshBasicMaterial({color:0x1f1f1f}));
				pic05B.position.set(-4,0,-4.925);
				scene.add(pic05B);
				//etiqueta 05 vistalago2
				var txrEtq05 = new THREE.TextureLoader();
				var etq05Txr = new txrEtq04.load("img/etq/lago1.jpg");
				var etq05 = new THREE.Mesh(
				  new THREE.PlaneGeometry(0.25,0.125),
					new THREE.MeshBasicMaterial({color:0xffffff,map:etq04Txr}));
				etq05.position.set(-3.2,-0.45,-4.99); 
				scene.add(etq05);

				//grupo galeria
				var gallery = new THREE.Group();
				gallery.add(floor,ceil);
				gallery.add(wallA,wallB,wallC,wallD);
				gallery.add(pic02,pic02B);
				gallery.add(pic01,pic01B,etq01);
				gallery.add(pic03,pic03B,etq03);
				gallery.add(pic04,pic04B,etq04);
				gallery.add(pic05,pic05B,etq05);
				scene.add(gallery);

				var animate = function(){
				  requestAnimationFrame(animate);
				  renderer.render(scene,camera);

					if (Math.abs(camera.position.z - cube.position.z) > aa){
						if (camera.position.z - cube.position.z < 0){
								cube.position.z = camera.position.z +aa;
						}
						else {
								cube.position.z = camera.position.z -aa;
						}
					}
				
					if (Math.abs(camera.position.x - cube.position.x) > bb){
						if (camera.position.x - cube.position.x < 0){
								cube.position.x = camera.position.x +bb;
						}
						else {
								cube.position.x = camera.position.x -bb;
						}
					}

					gallery.position.z = cube.position.z;
					gallery.position.x = cube.position.x;
				}

				animate();

				//resize
				window.addEventListener('resize',function(){
				  renderer.setSize(window.innerWidth,window.innerHeight);
					camera.aspect = window.innerWidth/window.innerHeight;
				  camera.updateProjectionMatrix();
				});

				camera.position.z = 0.5;//truco estranio
				var controls = new MapControls(camera, renderer.domElement);
				controls.enableZoom = false;
				controls.panSpeed = 4;
				controls.keyPanSpeed = 20;
    </script>
	</body>
</html>
